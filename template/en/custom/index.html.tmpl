[%# 1.0@bugzilla.org %]
[%# -*- mode: html -*- %]
[%# The contents of this file are subject to the Mozilla Public
  # License Version 1.1 (the "License"); you may not use this file
  # except in compliance with the License. You may obtain a copy of
  # the License at http://www.mozilla.org/MPL/
  #
  # Software distributed under the License is distributed on an "AS
  # IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
  # implied. See the License for the specific language governing
  # rights and limitations under the License.
  #
  # The Original Code is the Bugzilla Bug Tracking System.
  #
  # The Initial Developer of the Original Code is Netscape Communications
  # Corporation. Portions created by Netscape are
  # Copyright (C) 1998 Netscape Communications Corporation. All
  # Rights Reserved.
  #
  # Contributor(s): Terry Weissman <terry@mozilla.org>
  #                 Jacob Steenhagen <jake@bugzilla.org>
  #                 Vitaly Harisov  <vitaly@rathedg.com>
  #%]

[%# INTERFACE:
  # release: a hash containing data about new releases, if any.
  #%]

[% PROCESS global/variables.none.tmpl %]


[% PROCESS global/header.html.tmpl
   title = "Wikimedia $terms.Bugzilla Main Page"
   header = "Main Page" 
   style_urls = [ 'skins/contrib/Wikimedia/index.css' ]
%]


<script type="text/javascript">
<!--
function onLoadActions() {
  quicksearchHelpText('quicksearch_main', 'show');
  if( window.external.AddSearchProvider ){
    YAHOO.util.Dom.removeClass('quicksearch_plugin', 'bz_default_hidden');
  }
  document.getElementById('quicksearch_top').focus();
}
var quicksearch_message = "Enter [% terms.abug %] # or some search terms";

function checkQuicksearch( form ) {
  if (form.quicksearch.value == '' || form.quicksearch.value == quicksearch_message ) { 
    alert('Please enter one or more search terms first.');
    return false; 
  }
  return true;         
}

function quicksearchHelpText(el_id, action){
  var el = document.getElementById(el_id);
  if ( action == "show") {
    if( el.value == "" ) {
      el.value = quicksearch_message
      YAHOO.util.Dom.addClass(el, "quicksearch_help_text");
    }
  } else {
    if( el.value == quicksearch_message ) {
      el.value = "";
      YAHOO.util.Dom.removeClass(el, "quicksearch_help_text");
    }
  }
}
YAHOO.util.Event.onDOMReady(onLoadActions);
//-->
</script>

<div id="page-index">
  [% IF user.settings.skin.value=='Wikimedia' %]
  <div class="intro">[% Hook.process('intro') %]
  </div>
  [% END %]

  <h1 id="welcome"> Welcome to MediaWiki [% terms.Bugzilla %]</h1>
  <p style="text-align:center;">This is the bug tracker for <a
href="https://www.mediawiki.org/">MediaWiki</a> and its extensions
and site-specific problems on <a
href="https://www.wikimedia.org/">Wikimedia</a> wikis.</p>

  <p style="text-align:center;"><b>If you would like to file a bug report, please read
     <a href="http://www.mediawiki.org/wiki/How_to_report_a_bug"><i>How
to report a bug</i></a> for some pointers.</b></p>

        <div class="bz_common_actions">
          <ul>
            <li>
              <a id="enter_bug" href="enter_bug.cgi"><span>Report
              [%= terms.aBug %]
              [% IF !user.id %]
                    <i>(Account Needed)</i>
              [% END %]
              </span></a>
            </li>
            <li>
              <a id="query" href="query.cgi"><span>Search Bugs</span></a>
            </li>
            <li>
              <a id="help" href="http://www.mediawiki.org/wiki/Bugzilla"><span>Help on Bugzilla</span></a>
            </li>
            <li>
              <a id="report" href="report.cgi"><span>Reports / Charts</span></a>
            </li>
            <li>
              <a id="account"
                 [% IF user.id %]
                   href="userprefs.cgi"><span>User Preferences</span></a>
                 [% ELSIF Param('createemailregexp')
                          && user.authorizer.user_can_create_account 
                 %]
                   href="createaccount.cgi"><span>Open a New Account</span></a>
                 [% ELSE %]
                   href="?GoAheadAndLogIn=1"><span>Log In</span></a>
                 [% END %]
            </li>
          </ul>
        </div>

  <div style="clear:both;"></div>
  <hr />

    [%# List items of links to more things users can do on this installation. %]
    [% Hook.process('additional_links') %]

        <form id="quicksearchForm" name="quicksearchForm" action="buglist.cgi" method="get"
              onsubmit="return checkQuicksearch(this);">
          <div>
            <input id="quicksearch_main" type="text" name="quicksearch"
              title="Quick Search" 
              onfocus="quicksearchHelpText(this.id, 'hide');"
              onblur="quicksearchHelpText(this.id, 'show');"
            >
            <input id="find" type="submit" value="Quick Search">
          </div>
        </form>
        <div class="outro">[% Hook.process('outro') %]</div>
</div>

[% PROCESS global/footer.html.tmpl %]
